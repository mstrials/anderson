# Trial Task — Membership Plan Carousel + Checkout Flow (Stripe)

## Goal
Build a **data-driven, reusable** membership plan UI (based on the provided screenshot) that cycles through plans in a **carousel**, and implement a full **checkout flow** using Stripe.

This task is focused on:
- Component design and reusability
- State management across pages
- Clean UI implementation
- Integrating a real payment provider (Stripe) using Next.js API routes

---

## Tech assumptions
- Next.js + React + TypeScript.
- Styling approach is up to you (Tailwind/CSS modules/etc).
- State management is up to you:
  - You may use local state, React Context, Zustand, Redux, etc.
  - If unsure, **React Context is recommended**.
- Stripe must be fully integrated using **Next.js API routes**.

---

## Provided data (single source of truth)

Use this array to render plan names and prices. This must be the only source of pricing data.

```ts
interface Product {
  id: number;
  name: string;
  monthlyPrice: number;
  totalMonthlyPrice: number;
  totalMonthlySavings: number;
  totalAnnualPrice: number;
}

export const products: Product[] = [
  {
    id: 1,
    name: 'Bronze Membership',
    monthlyPrice: 140,
    totalMonthlyPrice: 1680,
    totalMonthlySavings: 420,
    totalAnnualPrice: 2140,
  },
  {
    id: 2,
    name: 'Silver Membership',
    monthlyPrice: 240,
    totalMonthlyPrice: 2880,
    totalMonthlySavings: 3420,
    totalAnnualPrice: 540,
  },
  {
    id: 3,
    name: 'Gold Membership',
    monthlyPrice: 340,
    totalMonthlyPrice: 3680,
    totalMonthlySavings: 820,
    totalAnnualPrice: 6820,
  },
];
```
# Part A — Membership Plans Carousel

## Core requirement

Build a carousel that displays **one plan at a time** and allows switching between plans using **left/right navigation arrows** (like the screenshot).

The carousel must be:

- Data-driven  
- Reusable  
- Generated by mapping over the `products` array  
- Not hardcoded to exactly 3 slides  

---

## Reusable component API

Create a reusable component similar to:

`MembershipPlansCarousel({ products })`


Where:

- `products` is an array of `Product`
- The component maps over `products` to generate slides
- The component should work for any length of products

---

## Recommended internal structure

- `MembershipPlansCarousel` → handles carousel logic + navigation  
- `PlanSlide` → renders UI for a single plan  

---

## Data → UI mapping (must follow exactly)

These values must come from the `Product` fields (not hardcoded) and must be formatted as currency.

| UI Element                        | Data field                    |
|----------------------------------|-------------------------------|
| Top header title                 | `product.name`               |
| Main price on the right          | `product.monthlyPrice`       |
| Monthly option “Annual Cost”     | `product.totalMonthlyPrice`  |
| Annual option “Annual Cost”      | `product.totalAnnualPrice`   |
| “Your Savings”                   | `product.totalMonthlySavings`|

### Example for Silver

- `$240.00*` → `monthlyPrice`  
- `$2,880.00` → `totalMonthlyPrice`  
- `$3,420.00` → `totalAnnualPrice`  
- `$540.00` → `totalMonthlySavings`  

---

## UI structure per slide

Each slide should visually follow the screenshot.

### Left column — Membership Information

- Header: **“Membership Information”**
- Row of 3 icons + labels (static content is fine)
- Feature list with green check / red cross icons (static content is fine)

> This feature list does not need to come from data and can be hardcoded once.

---

### Right column — Payment Information

- Header: **“Payment Information”**
- Large price text showing `product.monthlyPrice`
- Two static contact buttons:
  - “Speak To Our Team”
  - “Chat With Our Team”
- “Select a payment option below” section:
  - Monthly Fee and Annual Fee selectable options
  - “Annual Cost” row showing both totals
  - “Your Savings” row
  - “12-Month Contract” row (static icons are fine)
- **“Purchase Membership” button**
  - When clicked, user is taken to `/checkout`

---

## Payment option selection behavior

- Implement UI state for **Monthly vs Annual**
- Selected option must be visually highlighted
- This selection must be persisted and available on the checkout page

---

## Currency formatting

All money values must:

- Include dollar sign  
- Include comma separators  
- Always show 2 decimals  

### Examples

- `240` → `$240.00`  
- `2880` → `$2,880.00`  

# Navigation Bar + Cart

## Requirement

Implement a **global navigation bar** that is visible across the app.

The navigation bar must include:

- Logo / site name (static)
- Link to Membership Plans page
- Cart icon / Cart section

---

## Cart behavior

The cart represents the **currently selected membership plan**.

When a user selects a membership and clicks **“Purchase Membership”**:

- The selected plan must be added to the cart
- The cart must display:
  - Selected plan name
  - Selected billing type (Monthly / Annual)
  - Final price

The cart does **not** need to support multiple items — it can be treated as a **single-item cart**.

---

## State management

Cart state must persist across pages.

You may use:

- React Context (recommended if unsure)
- Zustand / Redux / Jotai
- Or URL params (if cleanly implemented)

The same state should be used for:
- Carousel selection
- Cart display
- Checkout page

---

## UI requirements

- Cart should be visible in the navbar at all times
- Cart should clearly show the current price
- If no membership is selected:
  - Cart should show an empty state (e.g. “No plan selected”)

---

## Navigation behavior

- Clicking the cart (or checkout button in navbar) should navigate to `/checkout`
- The checkout page must reflect the same data shown in the cart

---

## Acceptance Checklist — Navbar & Cart

- [ ] Navbar exists on all pages
- [ ] Cart displays selected membership
- [ ] Cart displays correct price
- [ ] Cart persists across page navigation
- [ ] Clicking cart navigates to `/checkout`
- [ ] Cart state matches checkout state


---

# Part B — Checkout Page (`/checkout`)

## Requirement

Create a route at **`/checkout`** that represents the final checkout flow after a membership is selected.

The selected membership and billing option (monthly/annual) must be available on this page via state management.

You may use:

- React Context (recommended if unsure)  
- Or any other state solution (Zustand, Redux, URL params, etc)

---

## Checkout page structure

### Section 1 — Membership Summary

Display:

- Selected plan name  
- Selected billing type (Monthly / Annual)  
- Final price being charged  

This must come from the same state as the carousel selection.

---

### Section 2 — Customer Details Form

Form fields (minimum):

- Full name (required)  
- Email (required, basic email validation)  
- Phone (optional)  
- Company name (optional)  
- Address (optional)  

#### UX requirements

- Inline validation messages  
- Disable submit button while submitting  
- All fields must be controlled inputs  

---

### Section 3 — Payment Details (Stripe)

Integrate **Stripe Elements** to collect card details:

- Card number  
- Expiry  
- CVC  

Do **not** build your own card input fields.

---

# Stripe Integration (Required)

This must be a real Stripe integration using:

- Stripe SDK  
- Stripe Elements on the frontend  
- Next.js API routes on the backend  

---

## Backend (Next.js API route)

Create an API route such as:

`POST /api/create-payment-intent`


This route should:

Receive:
- Selected product  
- Billing type  
- Final price  

Then:

- Create a Stripe PaymentIntent  
- Return `client_secret` to the frontend  

---

## Frontend payment flow

On form submit:

1. Validate customer details  
2. Call `/api/create-payment-intent`  
3. Use Stripe Elements to confirm card payment  
4. On success:
   - Show success screen or message  
   - Clear checkout state  

No webhooks required for this task.

---

# State Management Requirement

You must persist across pages:

- Selected product  
- Monthly vs Annual choice  

State management is up to you:

- React Context (recommended if unsure)  
- Zustand / Redux / Jotai  
- Or URL params (if cleanly implemented)

---

# Deliverables

- Reusable carousel component using `products` data  
- Membership plans page that uses the carousel  
- `/checkout` page with:
  - Membership summary  
  - Customer details form  
  - Stripe card input  
- Stripe fully integrated via API routes  
- README notes explaining:
  - How to run the project  
  - How to set up Stripe keys  
  - Where main components live  

---

# Acceptance Checklist

## Carousel

- [ ] Slides generated by mapping over `products`
- [ ] Title uses `product.name`
- [ ] Main price uses `product.monthlyPrice`
- [ ] Monthly “Annual Cost” uses `product.totalMonthlyPrice`
- [ ] Annual “Annual Cost” uses `product.totalAnnualPrice`
- [ ] “Your Savings” uses `product.totalMonthlySavings`
- [ ] Monthly/Annual toggle is interactive
- [ ] Currency formatting is correct
- [ ] Clicking “Purchase Membership” navigates to `/checkout`

## Checkout

- [ ] `/checkout` route exists
- [ ] Selected plan persists from plans page
- [ ] Customer form with validation exists
- [ ] Stripe Elements used for card input
- [ ] Next.js API route creates PaymentIntent
- [ ] Payment confirmation works end-to-end
- [ ] Success state shown after payment
